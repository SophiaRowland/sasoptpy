proc optmodel;
var assign {{'A','B','C','D','E'}, {'Bristol','Brighton','London'}} binary;
var product {{<'A','Bristol','B','Bristol'>,<'A','Bristol','B','Brighton'>,<'A','Bristol','B','London'>,<'A','Bristol','C','Bristol'>,<'A','Bristol','C','Brighton'>,<'A','Bristol','C','London'>,<'A','Bristol','D','Bristol'>,<'A','Bristol','D','Brighton'>,<'A','Bristol','D','London'>,<'A','Bristol','E','Bristol'>,<'A','Bristol','E','Brighton'>,<'A','Bristol','E','London'>,<'A','Brighton','B','Bristol'>,<'A','Brighton','B','Brighton'>,<'A','Brighton','B','London'>,<'A','Brighton','C','Bristol'>,<'A','Brighton','C','Brighton'>,<'A','Brighton','C','London'>,<'A','Brighton','D','Bristol'>,<'A','Brighton','D','Brighton'>,<'A','Brighton','D','London'>,<'A','Brighton','E','Bristol'>,<'A','Brighton','E','Brighton'>,<'A','Brighton','E','London'>,<'A','London','B','Bristol'>,<'A','London','B','Brighton'>,<'A','London','B','London'>,<'A','London','C','Bristol'>,<'A','London','C','Brighton'>,<'A','London','C','London'>,<'A','London','D','Bristol'>,<'A','London','D','Brighton'>,<'A','London','D','London'>,<'A','London','E','Bristol'>,<'A','London','E','Brighton'>,<'A','London','E','London'>,<'B','Bristol','C','Bristol'>,<'B','Bristol','C','Brighton'>,<'B','Bristol','C','London'>,<'B','Bristol','D','Bristol'>,<'B','Bristol','D','Brighton'>,<'B','Bristol','D','London'>,<'B','Bristol','E','Bristol'>,<'B','Bristol','E','Brighton'>,<'B','Bristol','E','London'>,<'B','Brighton','C','Bristol'>,<'B','Brighton','C','Brighton'>,<'B','Brighton','C','London'>,<'B','Brighton','D','Bristol'>,<'B','Brighton','D','Brighton'>,<'B','Brighton','D','London'>,<'B','Brighton','E','Bristol'>,<'B','Brighton','E','Brighton'>,<'B','Brighton','E','London'>,<'B','London','C','Bristol'>,<'B','London','C','Brighton'>,<'B','London','C','London'>,<'B','London','D','Bristol'>,<'B','London','D','Brighton'>,<'B','London','D','London'>,<'B','London','E','Bristol'>,<'B','London','E','Brighton'>,<'B','London','E','London'>,<'C','Bristol','D','Bristol'>,<'C','Bristol','D','Brighton'>,<'C','Bristol','D','London'>,<'C','Bristol','E','Bristol'>,<'C','Bristol','E','Brighton'>,<'C','Bristol','E','London'>,<'C','Brighton','D','Bristol'>,<'C','Brighton','D','Brighton'>,<'C','Brighton','D','London'>,<'C','Brighton','E','Bristol'>,<'C','Brighton','E','Brighton'>,<'C','Brighton','E','London'>,<'C','London','D','Bristol'>,<'C','London','D','Brighton'>,<'C','London','D','London'>,<'C','London','E','Bristol'>,<'C','London','E','Brighton'>,<'C','London','E','London'>,<'D','Bristol','E','Bristol'>,<'D','Bristol','E','Brighton'>,<'D','Bristol','E','London'>,<'D','Brighton','E','Bristol'>,<'D','Brighton','E','Brighton'>,<'D','Brighton','E','London'>,<'D','London','E','Bristol'>,<'D','London','E','Brighton'>,<'D','London','E','London'>}} binary;
max netBenefit = 10 * assign['A', 'Bristol'] + 10 * assign['A', 'Brighton'] + 15 * assign['B', 'Bristol'] + 20 * assign['B', 'Brighton'] + 10 * assign['C', 'Bristol'] + 15 * assign['C', 'Brighton'] + 20 * assign['D', 'Bristol'] + 15 * assign['D', 'Brighton'] + 5 * assign['E', 'Bristol'] + 15 * assign['E', 'Brighton'] - 5.0 * product['A', 'Bristol', 'C', 'Bristol'] - 14.0 * product['A', 'Bristol', 'C', 'Brighton'] - 13.0 * product['A', 'Bristol', 'C', 'London'] - 7.5 * product['A', 'Bristol', 'D', 'Bristol'] - 21.0 * product['A', 'Bristol', 'D', 'Brighton'] - 19.5 * product['A', 'Bristol', 'D', 'London'] - 14.0 * product['A', 'Brighton', 'C', 'Bristol'] - 5.0 * product['A', 'Brighton', 'C', 'Brighton'] - 9.0 * product['A', 'Brighton', 'C', 'London'] - 21.0 * product['A', 'Brighton', 'D', 'Bristol'] - 7.5 * product['A', 'Brighton', 'D', 'Brighton'] - 13.5 * product['A', 'Brighton', 'D', 'London'] - 13.0 * product['A', 'London', 'C', 'Bristol'] - 9.0 * product['A', 'London', 'C', 'Brighton'] - 10.0 * product['A', 'London', 'C', 'London'] - 19.5 * product['A', 'London', 'D', 'Bristol'] - 13.5 * product['A', 'London', 'D', 'Brighton'] - 15.0 * product['A', 'London', 'D', 'London'] - 7.0 * product['B', 'Bristol', 'C', 'Bristol'] - 19.6 * product['B', 'Bristol', 'C', 'Brighton'] - 18.2 * product['B', 'Bristol', 'C', 'London'] - 6.0 * product['B', 'Bristol', 'D', 'Bristol'] - 16.8 * product['B', 'Bristol', 'D', 'Brighton'] - 15.6 * product['B', 'Bristol', 'D', 'London'] - 19.6 * product['B', 'Brighton', 'C', 'Bristol'] - 7.0 * product['B', 'Brighton', 'C', 'Brighton'] - 12.6 * product['B', 'Brighton', 'C', 'London'] - 16.8 * product['B', 'Brighton', 'D', 'Bristol'] - 6.0 * product['B', 'Brighton', 'D', 'Brighton'] - 10.8 * product['B', 'Brighton', 'D', 'London'] - 18.2 * product['B', 'London', 'C', 'Bristol'] - 12.6 * product['B', 'London', 'C', 'Brighton'] - 14.0 * product['B', 'London', 'C', 'London'] - 15.6 * product['B', 'London', 'D', 'Bristol'] - 10.8 * product['B', 'London', 'D', 'Brighton'] - 12.0 * product['B', 'London', 'D', 'London'] - 10.0 * product['C', 'Bristol', 'E', 'Bristol'] - 28.0 * product['C', 'Bristol', 'E', 'Brighton'] - 26.0 * product['C', 'Bristol', 'E', 'London'] - 28.0 * product['C', 'Brighton', 'E', 'Bristol'] - 10.0 * product['C', 'Brighton', 'E', 'Brighton'] - 18.0 * product['C', 'Brighton', 'E', 'London'] - 26.0 * product['C', 'London', 'E', 'Bristol'] - 18.0 * product['C', 'London', 'E', 'Brighton'] - 20.0 * product['C', 'London', 'E', 'London'] - 3.5 * product['D', 'Bristol', 'E', 'Bristol'] - 9.8 * product['D', 'Bristol', 'E', 'Brighton'] - 9.1 * product['D', 'Bristol', 'E', 'London'] - 9.8 * product['D', 'Brighton', 'E', 'Bristol'] - 3.5 * product['D', 'Brighton', 'E', 'Brighton'] - 6.3 * product['D', 'Brighton', 'E', 'London'] - 9.1 * product['D', 'London', 'E', 'Bristol'] - 6.3 * product['D', 'London', 'E', 'Brighton'] - 7.0 * product['D', 'London', 'E', 'London'];
con assign_dept_A : assign['A', 'Bristol'] + assign['A', 'Brighton'] + assign['A', 'London'] = 1;
con assign_dept_B : assign['B', 'Bristol'] + assign['B', 'Brighton'] + assign['B', 'London'] = 1;
con assign_dept_C : assign['C', 'Bristol'] + assign['C', 'Brighton'] + assign['C', 'London'] = 1;
con assign_dept_D : assign['D', 'Bristol'] + assign['D', 'Brighton'] + assign['D', 'London'] = 1;
con assign_dept_E : assign['E', 'Bristol'] + assign['E', 'Brighton'] + assign['E', 'London'] = 1;

con cardinality_Bristol : assign['A', 'Bristol'] + assign['B', 'Bristol'] + assign['C', 'Bristol'] + assign['D', 'Bristol'] + assign['E', 'Bristol'] <= 3;
con cardinality_Brighton : assign['A', 'Brighton'] + assign['B', 'Brighton'] + assign['C', 'Brighton'] + assign['D', 'Brighton'] + assign['E', 'Brighton'] <= 3;
con cardinality_London : assign['A', 'London'] + assign['B', 'London'] + assign['C', 'London'] + assign['D', 'London'] + assign['E', 'London'] <= 3;

con pd4_A_B_Bristol : assign['B', 'Bristol'] - product['A', 'Bristol', 'B', 'Bristol'] - product['A', 'Brighton', 'B', 'Bristol'] - product['A', 'London', 'B', 'Bristol'] = 0;
con pd4_A_B_Brighton : assign['B', 'Brighton'] - product['A', 'Bristol', 'B', 'Brighton'] - product['A', 'Brighton', 'B', 'Brighton'] - product['A', 'London', 'B', 'Brighton'] = 0;
con pd4_A_B_London : assign['B', 'London'] - product['A', 'Bristol', 'B', 'London'] - product['A', 'Brighton', 'B', 'London'] - product['A', 'London', 'B', 'London'] = 0;
con pd4_A_C_Bristol : assign['C', 'Bristol'] - product['A', 'Bristol', 'C', 'Bristol'] - product['A', 'Brighton', 'C', 'Bristol'] - product['A', 'London', 'C', 'Bristol'] = 0;
con pd4_A_C_Brighton : assign['C', 'Brighton'] - product['A', 'Bristol', 'C', 'Brighton'] - product['A', 'Brighton', 'C', 'Brighton'] - product['A', 'London', 'C', 'Brighton'] = 0;
con pd4_A_C_London : assign['C', 'London'] - product['A', 'Bristol', 'C', 'London'] - product['A', 'Brighton', 'C', 'London'] - product['A', 'London', 'C', 'London'] = 0;
con pd4_A_D_Bristol : assign['D', 'Bristol'] - product['A', 'Bristol', 'D', 'Bristol'] - product['A', 'Brighton', 'D', 'Bristol'] - product['A', 'London', 'D', 'Bristol'] = 0;
con pd4_A_D_Brighton : assign['D', 'Brighton'] - product['A', 'Bristol', 'D', 'Brighton'] - product['A', 'Brighton', 'D', 'Brighton'] - product['A', 'London', 'D', 'Brighton'] = 0;
con pd4_A_D_London : assign['D', 'London'] - product['A', 'Bristol', 'D', 'London'] - product['A', 'Brighton', 'D', 'London'] - product['A', 'London', 'D', 'London'] = 0;
con pd4_A_E_Bristol : assign['E', 'Bristol'] - product['A', 'Bristol', 'E', 'Bristol'] - product['A', 'Brighton', 'E', 'Bristol'] - product['A', 'London', 'E', 'Bristol'] = 0;
con pd4_A_E_Brighton : assign['E', 'Brighton'] - product['A', 'Bristol', 'E', 'Brighton'] - product['A', 'Brighton', 'E', 'Brighton'] - product['A', 'London', 'E', 'Brighton'] = 0;
con pd4_A_E_London : assign['E', 'London'] - product['A', 'Bristol', 'E', 'London'] - product['A', 'Brighton', 'E', 'London'] - product['A', 'London', 'E', 'London'] = 0;
con pd4_B_C_Bristol : assign['C', 'Bristol'] - product['B', 'Bristol', 'C', 'Bristol'] - product['B', 'Brighton', 'C', 'Bristol'] - product['B', 'London', 'C', 'Bristol'] = 0;
con pd4_B_C_Brighton : assign['C', 'Brighton'] - product['B', 'Bristol', 'C', 'Brighton'] - product['B', 'Brighton', 'C', 'Brighton'] - product['B', 'London', 'C', 'Brighton'] = 0;
con pd4_B_C_London : assign['C', 'London'] - product['B', 'Bristol', 'C', 'London'] - product['B', 'Brighton', 'C', 'London'] - product['B', 'London', 'C', 'London'] = 0;
con pd4_B_D_Bristol : assign['D', 'Bristol'] - product['B', 'Bristol', 'D', 'Bristol'] - product['B', 'Brighton', 'D', 'Bristol'] - product['B', 'London', 'D', 'Bristol'] = 0;
con pd4_B_D_Brighton : assign['D', 'Brighton'] - product['B', 'Bristol', 'D', 'Brighton'] - product['B', 'Brighton', 'D', 'Brighton'] - product['B', 'London', 'D', 'Brighton'] = 0;
con pd4_B_D_London : assign['D', 'London'] - product['B', 'Bristol', 'D', 'London'] - product['B', 'Brighton', 'D', 'London'] - product['B', 'London', 'D', 'London'] = 0;
con pd4_B_E_Bristol : assign['E', 'Bristol'] - product['B', 'Bristol', 'E', 'Bristol'] - product['B', 'Brighton', 'E', 'Bristol'] - product['B', 'London', 'E', 'Bristol'] = 0;
con pd4_B_E_Brighton : assign['E', 'Brighton'] - product['B', 'Bristol', 'E', 'Brighton'] - product['B', 'Brighton', 'E', 'Brighton'] - product['B', 'London', 'E', 'Brighton'] = 0;
con pd4_B_E_London : assign['E', 'London'] - product['B', 'Bristol', 'E', 'London'] - product['B', 'Brighton', 'E', 'London'] - product['B', 'London', 'E', 'London'] = 0;
con pd4_C_D_Bristol : assign['D', 'Bristol'] - product['C', 'Bristol', 'D', 'Bristol'] - product['C', 'Brighton', 'D', 'Bristol'] - product['C', 'London', 'D', 'Bristol'] = 0;
con pd4_C_D_Brighton : assign['D', 'Brighton'] - product['C', 'Bristol', 'D', 'Brighton'] - product['C', 'Brighton', 'D', 'Brighton'] - product['C', 'London', 'D', 'Brighton'] = 0;
con pd4_C_D_London : assign['D', 'London'] - product['C', 'Bristol', 'D', 'London'] - product['C', 'Brighton', 'D', 'London'] - product['C', 'London', 'D', 'London'] = 0;
con pd4_C_E_Bristol : assign['E', 'Bristol'] - product['C', 'Bristol', 'E', 'Bristol'] - product['C', 'Brighton', 'E', 'Bristol'] - product['C', 'London', 'E', 'Bristol'] = 0;
con pd4_C_E_Brighton : assign['E', 'Brighton'] - product['C', 'Bristol', 'E', 'Brighton'] - product['C', 'Brighton', 'E', 'Brighton'] - product['C', 'London', 'E', 'Brighton'] = 0;
con pd4_C_E_London : assign['E', 'London'] - product['C', 'Bristol', 'E', 'London'] - product['C', 'Brighton', 'E', 'London'] - product['C', 'London', 'E', 'London'] = 0;
con pd4_D_E_Bristol : assign['E', 'Bristol'] - product['D', 'Bristol', 'E', 'Bristol'] - product['D', 'Brighton', 'E', 'Bristol'] - product['D', 'London', 'E', 'Bristol'] = 0;
con pd4_D_E_Brighton : assign['E', 'Brighton'] - product['D', 'Bristol', 'E', 'Brighton'] - product['D', 'Brighton', 'E', 'Brighton'] - product['D', 'London', 'E', 'Brighton'] = 0;
con pd4_D_E_London : assign['E', 'London'] - product['D', 'Bristol', 'E', 'London'] - product['D', 'Brighton', 'E', 'London'] - product['D', 'London', 'E', 'London'] = 0;

con pd5_A_Bristol_B : assign['A', 'Bristol'] - product['A', 'Bristol', 'B', 'Bristol'] - product['A', 'Bristol', 'B', 'Brighton'] - product['A', 'Bristol', 'B', 'London'] = 0;
con pd5_A_Brighton_B : assign['A', 'Brighton'] - product['A', 'Brighton', 'B', 'Bristol'] - product['A', 'Brighton', 'B', 'Brighton'] - product['A', 'Brighton', 'B', 'London'] = 0;
con pd5_A_London_B : assign['A', 'London'] - product['A', 'London', 'B', 'Bristol'] - product['A', 'London', 'B', 'Brighton'] - product['A', 'London', 'B', 'London'] = 0;
con pd5_A_Bristol_C : assign['A', 'Bristol'] - product['A', 'Bristol', 'C', 'Bristol'] - product['A', 'Bristol', 'C', 'Brighton'] - product['A', 'Bristol', 'C', 'London'] = 0;
con pd5_A_Brighton_C : assign['A', 'Brighton'] - product['A', 'Brighton', 'C', 'Bristol'] - product['A', 'Brighton', 'C', 'Brighton'] - product['A', 'Brighton', 'C', 'London'] = 0;
con pd5_A_London_C : assign['A', 'London'] - product['A', 'London', 'C', 'Bristol'] - product['A', 'London', 'C', 'Brighton'] - product['A', 'London', 'C', 'London'] = 0;
con pd5_B_Bristol_C : assign['B', 'Bristol'] - product['B', 'Bristol', 'C', 'Bristol'] - product['B', 'Bristol', 'C', 'Brighton'] - product['B', 'Bristol', 'C', 'London'] = 0;
con pd5_B_Brighton_C : assign['B', 'Brighton'] - product['B', 'Brighton', 'C', 'Bristol'] - product['B', 'Brighton', 'C', 'Brighton'] - product['B', 'Brighton', 'C', 'London'] = 0;
con pd5_B_London_C : assign['B', 'London'] - product['B', 'London', 'C', 'Bristol'] - product['B', 'London', 'C', 'Brighton'] - product['B', 'London', 'C', 'London'] = 0;
con pd5_A_Bristol_D : assign['A', 'Bristol'] - product['A', 'Bristol', 'D', 'Bristol'] - product['A', 'Bristol', 'D', 'Brighton'] - product['A', 'Bristol', 'D', 'London'] = 0;
con pd5_A_Brighton_D : assign['A', 'Brighton'] - product['A', 'Brighton', 'D', 'Bristol'] - product['A', 'Brighton', 'D', 'Brighton'] - product['A', 'Brighton', 'D', 'London'] = 0;
con pd5_A_London_D : assign['A', 'London'] - product['A', 'London', 'D', 'Bristol'] - product['A', 'London', 'D', 'Brighton'] - product['A', 'London', 'D', 'London'] = 0;
con pd5_B_Bristol_D : assign['B', 'Bristol'] - product['B', 'Bristol', 'D', 'Bristol'] - product['B', 'Bristol', 'D', 'Brighton'] - product['B', 'Bristol', 'D', 'London'] = 0;
con pd5_B_Brighton_D : assign['B', 'Brighton'] - product['B', 'Brighton', 'D', 'Bristol'] - product['B', 'Brighton', 'D', 'Brighton'] - product['B', 'Brighton', 'D', 'London'] = 0;
con pd5_B_London_D : assign['B', 'London'] - product['B', 'London', 'D', 'Bristol'] - product['B', 'London', 'D', 'Brighton'] - product['B', 'London', 'D', 'London'] = 0;
con pd5_C_Bristol_D : assign['C', 'Bristol'] - product['C', 'Bristol', 'D', 'Bristol'] - product['C', 'Bristol', 'D', 'Brighton'] - product['C', 'Bristol', 'D', 'London'] = 0;
con pd5_C_Brighton_D : assign['C', 'Brighton'] - product['C', 'Brighton', 'D', 'Bristol'] - product['C', 'Brighton', 'D', 'Brighton'] - product['C', 'Brighton', 'D', 'London'] = 0;
con pd5_C_London_D : assign['C', 'London'] - product['C', 'London', 'D', 'Bristol'] - product['C', 'London', 'D', 'Brighton'] - product['C', 'London', 'D', 'London'] = 0;
con pd5_A_Bristol_E : assign['A', 'Bristol'] - product['A', 'Bristol', 'E', 'Bristol'] - product['A', 'Bristol', 'E', 'Brighton'] - product['A', 'Bristol', 'E', 'London'] = 0;
con pd5_A_Brighton_E : assign['A', 'Brighton'] - product['A', 'Brighton', 'E', 'Bristol'] - product['A', 'Brighton', 'E', 'Brighton'] - product['A', 'Brighton', 'E', 'London'] = 0;
con pd5_A_London_E : assign['A', 'London'] - product['A', 'London', 'E', 'Bristol'] - product['A', 'London', 'E', 'Brighton'] - product['A', 'London', 'E', 'London'] = 0;
con pd5_B_Bristol_E : assign['B', 'Bristol'] - product['B', 'Bristol', 'E', 'Bristol'] - product['B', 'Bristol', 'E', 'Brighton'] - product['B', 'Bristol', 'E', 'London'] = 0;
con pd5_B_Brighton_E : assign['B', 'Brighton'] - product['B', 'Brighton', 'E', 'Bristol'] - product['B', 'Brighton', 'E', 'Brighton'] - product['B', 'Brighton', 'E', 'London'] = 0;
con pd5_B_London_E : assign['B', 'London'] - product['B', 'London', 'E', 'Bristol'] - product['B', 'London', 'E', 'Brighton'] - product['B', 'London', 'E', 'London'] = 0;
con pd5_C_Bristol_E : assign['C', 'Bristol'] - product['C', 'Bristol', 'E', 'Bristol'] - product['C', 'Bristol', 'E', 'Brighton'] - product['C', 'Bristol', 'E', 'London'] = 0;
con pd5_C_Brighton_E : assign['C', 'Brighton'] - product['C', 'Brighton', 'E', 'Bristol'] - product['C', 'Brighton', 'E', 'Brighton'] - product['C', 'Brighton', 'E', 'London'] = 0;
con pd5_C_London_E : assign['C', 'London'] - product['C', 'London', 'E', 'Bristol'] - product['C', 'London', 'E', 'Brighton'] - product['C', 'London', 'E', 'London'] = 0;
con pd5_D_Bristol_E : assign['D', 'Bristol'] - product['D', 'Bristol', 'E', 'Bristol'] - product['D', 'Bristol', 'E', 'Brighton'] - product['D', 'Bristol', 'E', 'London'] = 0;
con pd5_D_Brighton_E : assign['D', 'Brighton'] - product['D', 'Brighton', 'E', 'Bristol'] - product['D', 'Brighton', 'E', 'Brighton'] - product['D', 'Brighton', 'E', 'London'] = 0;
con pd5_D_London_E : assign['D', 'London'] - product['D', 'London', 'E', 'Bristol'] - product['D', 'London', 'E', 'Brighton'] - product['D', 'London', 'E', 'London'] = 0;

solve;
quit;