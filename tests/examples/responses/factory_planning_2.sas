proc optmodel;
var make {{'prod1','prod2','prod3','prod4','prod5','prod6','prod7'}, {1,2,3,4,5,6}} >= 0;
var sell {{'prod1','prod2','prod3','prod4','prod5','prod6','prod7'}, {1,2,3,4,5,6}} >= 0;
sell['prod1', 1].ub = 500;
sell['prod1', 2].ub = 600;
sell['prod1', 3].ub = 300;
sell['prod1', 4].ub = 200;
sell['prod1', 5].ub = 0;
sell['prod1', 6].ub = 500;
sell['prod2', 1].ub = 1000;
sell['prod2', 2].ub = 500;
sell['prod2', 3].ub = 600;
sell['prod2', 4].ub = 300;
sell['prod2', 5].ub = 100;
sell['prod2', 6].ub = 500;
sell['prod3', 1].ub = 300;
sell['prod3', 2].ub = 200;
sell['prod3', 3].ub = 0;
sell['prod3', 4].ub = 400;
sell['prod3', 5].ub = 500;
sell['prod3', 6].ub = 100;
sell['prod4', 1].ub = 300;
sell['prod4', 2].ub = 0;
sell['prod4', 3].ub = 0;
sell['prod4', 4].ub = 500;
sell['prod4', 5].ub = 100;
sell['prod4', 6].ub = 300;
sell['prod5', 1].ub = 800;
sell['prod5', 2].ub = 400;
sell['prod5', 3].ub = 500;
sell['prod5', 4].ub = 200;
sell['prod5', 5].ub = 1000;
sell['prod5', 6].ub = 1100;
sell['prod6', 1].ub = 200;
sell['prod6', 2].ub = 300;
sell['prod6', 3].ub = 400;
sell['prod6', 4].ub = 0;
sell['prod6', 5].ub = 300;
sell['prod6', 6].ub = 500;
sell['prod7', 1].ub = 100;
sell['prod7', 2].ub = 150;
sell['prod7', 3].ub = 100;
sell['prod7', 4].ub = 100;
sell['prod7', 5].ub = 0;
sell['prod7', 6].ub = 60;
var store {{'prod1','prod2','prod3','prod4','prod5','prod6','prod7'}, {1,2,3,4,5,6}} >= 0 <= 100;
store['prod1', 6].lb = 50;
store['prod1', 6].ub = 50;
store['prod2', 6].lb = 50;
store['prod2', 6].ub = 50;
store['prod3', 6].lb = 50;
store['prod3', 6].ub = 50;
store['prod4', 6].lb = 50;
store['prod4', 6].ub = 50;
store['prod5', 6].lb = 50;
store['prod5', 6].ub = 50;
store['prod6', 6].lb = 50;
store['prod6', 6].ub = 50;
store['prod7', 6].lb = 50;
store['prod7', 6].ub = 50;
max total_profit = 10 * sell['prod1', 1] + 10 * sell['prod1', 2] + 10 * sell['prod1', 3] + 10 * sell['prod1', 4] + 10 * sell['prod1', 5] + 10 * sell['prod1', 6] + 6 * sell['prod2', 1] + 6 * sell['prod2', 2] + 6 * sell['prod2', 3] + 6 * sell['prod2', 4] + 6 * sell['prod2', 5] + 6 * sell['prod2', 6] + 8 * sell['prod3', 1] + 8 * sell['prod3', 2] + 8 * sell['prod3', 3] + 8 * sell['prod3', 4] + 8 * sell['prod3', 5] + 8 * sell['prod3', 6] + 4 * sell['prod4', 1] + 4 * sell['prod4', 2] + 4 * sell['prod4', 3] + 4 * sell['prod4', 4] + 4 * sell['prod4', 5] + 4 * sell['prod4', 6] + 11 * sell['prod5', 1] + 11 * sell['prod5', 2] + 11 * sell['prod5', 3] + 11 * sell['prod5', 4] + 11 * sell['prod5', 5] + 11 * sell['prod5', 6] + 9 * sell['prod6', 1] + 9 * sell['prod6', 2] + 9 * sell['prod6', 3] + 9 * sell['prod6', 4] + 9 * sell['prod6', 5] + 9 * sell['prod6', 6] + 3 * sell['prod7', 1] + 3 * sell['prod7', 2] + 3 * sell['prod7', 3] + 3 * sell['prod7', 4] + 3 * sell['prod7', 5] + 3 * sell['prod7', 6] - 0.5 * store['prod1', 1] - 0.5 * store['prod1', 2] - 0.5 * store['prod1', 3] - 0.5 * store['prod1', 4] - 0.5 * store['prod1', 5] - 0.5 * store['prod1', 6] - 0.5 * store['prod2', 1] - 0.5 * store['prod2', 2] - 0.5 * store['prod2', 3] - 0.5 * store['prod2', 4] - 0.5 * store['prod2', 5] - 0.5 * store['prod2', 6] - 0.5 * store['prod3', 1] - 0.5 * store['prod3', 2] - 0.5 * store['prod3', 3] - 0.5 * store['prod3', 4] - 0.5 * store['prod3', 5] - 0.5 * store['prod3', 6] - 0.5 * store['prod4', 1] - 0.5 * store['prod4', 2] - 0.5 * store['prod4', 3] - 0.5 * store['prod4', 4] - 0.5 * store['prod4', 5] - 0.5 * store['prod4', 6] - 0.5 * store['prod5', 1] - 0.5 * store['prod5', 2] - 0.5 * store['prod5', 3] - 0.5 * store['prod5', 4] - 0.5 * store['prod5', 5] - 0.5 * store['prod5', 6] - 0.5 * store['prod6', 1] - 0.5 * store['prod6', 2] - 0.5 * store['prod6', 3] - 0.5 * store['prod6', 4] - 0.5 * store['prod6', 5] - 0.5 * store['prod6', 6] - 0.5 * store['prod7', 1] - 0.5 * store['prod7', 2] - 0.5 * store['prod7', 3] - 0.5 * store['prod7', 4] - 0.5 * store['prod7', 5] - 0.5 * store['prod7', 6];
var numMachinesDown {{'grinder','vdrill','hdrill','borer','planer'}, {1,2,3,4,5,6}} integer >= 0;
con machine_hours_con_grinder_1 : 0.5 * make['prod1', 1] + 0.7 * make['prod2', 1] + 0.3 * make['prod5', 1] + 0.2 * make['prod6', 1] + 0.5 * make['prod7', 1] + 384 * numMachinesDown['grinder', 1] <= 1536.0;
con machine_hours_con_grinder_2 : 0.5 * make['prod1', 2] + 0.7 * make['prod2', 2] + 0.3 * make['prod5', 2] + 0.2 * make['prod6', 2] + 0.5 * make['prod7', 2] + 384 * numMachinesDown['grinder', 2] <= 1536.0;
con machine_hours_con_grinder_3 : 0.5 * make['prod1', 3] + 0.7 * make['prod2', 3] + 0.3 * make['prod5', 3] + 0.2 * make['prod6', 3] + 0.5 * make['prod7', 3] + 384 * numMachinesDown['grinder', 3] <= 1536.0;
con machine_hours_con_grinder_4 : 0.5 * make['prod1', 4] + 0.7 * make['prod2', 4] + 0.3 * make['prod5', 4] + 0.2 * make['prod6', 4] + 0.5 * make['prod7', 4] + 384 * numMachinesDown['grinder', 4] <= 1536.0;
con machine_hours_con_grinder_5 : 0.5 * make['prod1', 5] + 0.7 * make['prod2', 5] + 0.3 * make['prod5', 5] + 0.2 * make['prod6', 5] + 0.5 * make['prod7', 5] + 384 * numMachinesDown['grinder', 5] <= 1536.0;
con machine_hours_con_grinder_6 : 0.5 * make['prod1', 6] + 0.7 * make['prod2', 6] + 0.3 * make['prod5', 6] + 0.2 * make['prod6', 6] + 0.5 * make['prod7', 6] + 384 * numMachinesDown['grinder', 6] <= 1536.0;
con machine_hours_con_vdrill_1 : 0.1 * make['prod1', 1] + 0.2 * make['prod2', 1] + 0.3 * make['prod4', 1] + 0.6 * make['prod6', 1] + 384 * numMachinesDown['vdrill', 1] <= 768.0;
con machine_hours_con_vdrill_2 : 0.1 * make['prod1', 2] + 0.2 * make['prod2', 2] + 0.3 * make['prod4', 2] + 0.6 * make['prod6', 2] + 384 * numMachinesDown['vdrill', 2] <= 768.0;
con machine_hours_con_vdrill_3 : 0.1 * make['prod1', 3] + 0.2 * make['prod2', 3] + 0.3 * make['prod4', 3] + 0.6 * make['prod6', 3] + 384 * numMachinesDown['vdrill', 3] <= 768.0;
con machine_hours_con_vdrill_4 : 0.1 * make['prod1', 4] + 0.2 * make['prod2', 4] + 0.3 * make['prod4', 4] + 0.6 * make['prod6', 4] + 384 * numMachinesDown['vdrill', 4] <= 768.0;
con machine_hours_con_vdrill_5 : 0.1 * make['prod1', 5] + 0.2 * make['prod2', 5] + 0.3 * make['prod4', 5] + 0.6 * make['prod6', 5] + 384 * numMachinesDown['vdrill', 5] <= 768.0;
con machine_hours_con_vdrill_6 : 0.1 * make['prod1', 6] + 0.2 * make['prod2', 6] + 0.3 * make['prod4', 6] + 0.6 * make['prod6', 6] + 384 * numMachinesDown['vdrill', 6] <= 768.0;
con machine_hours_con_hdrill_1 : 0.2 * make['prod1', 1] + 0.8 * make['prod3', 1] + 0.6 * make['prod7', 1] + 384 * numMachinesDown['hdrill', 1] <= 1152.0;
con machine_hours_con_hdrill_2 : 0.2 * make['prod1', 2] + 0.8 * make['prod3', 2] + 0.6 * make['prod7', 2] + 384 * numMachinesDown['hdrill', 2] <= 1152.0;
con machine_hours_con_hdrill_3 : 0.2 * make['prod1', 3] + 0.8 * make['prod3', 3] + 0.6 * make['prod7', 3] + 384 * numMachinesDown['hdrill', 3] <= 1152.0;
con machine_hours_con_hdrill_4 : 0.2 * make['prod1', 4] + 0.8 * make['prod3', 4] + 0.6 * make['prod7', 4] + 384 * numMachinesDown['hdrill', 4] <= 1152.0;
con machine_hours_con_hdrill_5 : 0.2 * make['prod1', 5] + 0.8 * make['prod3', 5] + 0.6 * make['prod7', 5] + 384 * numMachinesDown['hdrill', 5] <= 1152.0;
con machine_hours_con_hdrill_6 : 0.2 * make['prod1', 6] + 0.8 * make['prod3', 6] + 0.6 * make['prod7', 6] + 384 * numMachinesDown['hdrill', 6] <= 1152.0;
con machine_hours_con_borer_1 : 0.05 * make['prod1', 1] + 0.03 * make['prod2', 1] + 0.07 * make['prod4', 1] + 0.1 * make['prod5', 1] + 0.08 * make['prod7', 1] + 384 * numMachinesDown['borer', 1] <= 384.0;
con machine_hours_con_borer_2 : 0.05 * make['prod1', 2] + 0.03 * make['prod2', 2] + 0.07 * make['prod4', 2] + 0.1 * make['prod5', 2] + 0.08 * make['prod7', 2] + 384 * numMachinesDown['borer', 2] <= 384.0;
con machine_hours_con_borer_3 : 0.05 * make['prod1', 3] + 0.03 * make['prod2', 3] + 0.07 * make['prod4', 3] + 0.1 * make['prod5', 3] + 0.08 * make['prod7', 3] + 384 * numMachinesDown['borer', 3] <= 384.0;
con machine_hours_con_borer_4 : 0.05 * make['prod1', 4] + 0.03 * make['prod2', 4] + 0.07 * make['prod4', 4] + 0.1 * make['prod5', 4] + 0.08 * make['prod7', 4] + 384 * numMachinesDown['borer', 4] <= 384.0;
con machine_hours_con_borer_5 : 0.05 * make['prod1', 5] + 0.03 * make['prod2', 5] + 0.07 * make['prod4', 5] + 0.1 * make['prod5', 5] + 0.08 * make['prod7', 5] + 384 * numMachinesDown['borer', 5] <= 384.0;
con machine_hours_con_borer_6 : 0.05 * make['prod1', 6] + 0.03 * make['prod2', 6] + 0.07 * make['prod4', 6] + 0.1 * make['prod5', 6] + 0.08 * make['prod7', 6] + 384 * numMachinesDown['borer', 6] <= 384.0;
con machine_hours_con_planer_1 : 0.01 * make['prod3', 1] + 0.05 * make['prod5', 1] + 0.05 * make['prod7', 1] + 384 * numMachinesDown['planer', 1] <= 384.0;
con machine_hours_con_planer_2 : 0.01 * make['prod3', 2] + 0.05 * make['prod5', 2] + 0.05 * make['prod7', 2] + 384 * numMachinesDown['planer', 2] <= 384.0;
con machine_hours_con_planer_3 : 0.01 * make['prod3', 3] + 0.05 * make['prod5', 3] + 0.05 * make['prod7', 3] + 384 * numMachinesDown['planer', 3] <= 384.0;
con machine_hours_con_planer_4 : 0.01 * make['prod3', 4] + 0.05 * make['prod5', 4] + 0.05 * make['prod7', 4] + 384 * numMachinesDown['planer', 4] <= 384.0;
con machine_hours_con_planer_5 : 0.01 * make['prod3', 5] + 0.05 * make['prod5', 5] + 0.05 * make['prod7', 5] + 384 * numMachinesDown['planer', 5] <= 384.0;
con machine_hours_con_planer_6 : 0.01 * make['prod3', 6] + 0.05 * make['prod5', 6] + 0.05 * make['prod7', 6] + 384 * numMachinesDown['planer', 6] <= 384.0;

con maintenance_con_grinder : numMachinesDown['grinder', 1] + numMachinesDown['grinder', 2] + numMachinesDown['grinder', 3] + numMachinesDown['grinder', 4] + numMachinesDown['grinder', 5] + numMachinesDown['grinder', 6] = 2;
con maintenance_con_vdrill : numMachinesDown['vdrill', 1] + numMachinesDown['vdrill', 2] + numMachinesDown['vdrill', 3] + numMachinesDown['vdrill', 4] + numMachinesDown['vdrill', 5] + numMachinesDown['vdrill', 6] = 2;
con maintenance_con_hdrill : numMachinesDown['hdrill', 1] + numMachinesDown['hdrill', 2] + numMachinesDown['hdrill', 3] + numMachinesDown['hdrill', 4] + numMachinesDown['hdrill', 5] + numMachinesDown['hdrill', 6] = 3;
con maintenance_con_borer : numMachinesDown['borer', 1] + numMachinesDown['borer', 2] + numMachinesDown['borer', 3] + numMachinesDown['borer', 4] + numMachinesDown['borer', 5] + numMachinesDown['borer', 6] = 1;
con maintenance_con_planer : numMachinesDown['planer', 1] + numMachinesDown['planer', 2] + numMachinesDown['planer', 3] + numMachinesDown['planer', 4] + numMachinesDown['planer', 5] + numMachinesDown['planer', 6] = 1;

con flow_balance_con_prod1_1 : make['prod1', 1] - sell['prod1', 1] - store['prod1', 1] = 0;
con flow_balance_con_prod1_2 : store['prod1', 1] + make['prod1', 2] - sell['prod1', 2] - store['prod1', 2] = 0;
con flow_balance_con_prod1_3 : store['prod1', 2] + make['prod1', 3] - sell['prod1', 3] - store['prod1', 3] = 0;
con flow_balance_con_prod1_4 : store['prod1', 3] + make['prod1', 4] - sell['prod1', 4] - store['prod1', 4] = 0;
con flow_balance_con_prod1_5 : store['prod1', 4] + make['prod1', 5] - sell['prod1', 5] - store['prod1', 5] = 0;
con flow_balance_con_prod1_6 : store['prod1', 5] + make['prod1', 6] - sell['prod1', 6] - store['prod1', 6] = 0;
con flow_balance_con_prod2_1 : make['prod2', 1] - sell['prod2', 1] - store['prod2', 1] = 0;
con flow_balance_con_prod2_2 : store['prod2', 1] + make['prod2', 2] - sell['prod2', 2] - store['prod2', 2] = 0;
con flow_balance_con_prod2_3 : store['prod2', 2] + make['prod2', 3] - sell['prod2', 3] - store['prod2', 3] = 0;
con flow_balance_con_prod2_4 : store['prod2', 3] + make['prod2', 4] - sell['prod2', 4] - store['prod2', 4] = 0;
con flow_balance_con_prod2_5 : store['prod2', 4] + make['prod2', 5] - sell['prod2', 5] - store['prod2', 5] = 0;
con flow_balance_con_prod2_6 : store['prod2', 5] + make['prod2', 6] - sell['prod2', 6] - store['prod2', 6] = 0;
con flow_balance_con_prod3_1 : make['prod3', 1] - sell['prod3', 1] - store['prod3', 1] = 0;
con flow_balance_con_prod3_2 : store['prod3', 1] + make['prod3', 2] - sell['prod3', 2] - store['prod3', 2] = 0;
con flow_balance_con_prod3_3 : store['prod3', 2] + make['prod3', 3] - sell['prod3', 3] - store['prod3', 3] = 0;
con flow_balance_con_prod3_4 : store['prod3', 3] + make['prod3', 4] - sell['prod3', 4] - store['prod3', 4] = 0;
con flow_balance_con_prod3_5 : store['prod3', 4] + make['prod3', 5] - sell['prod3', 5] - store['prod3', 5] = 0;
con flow_balance_con_prod3_6 : store['prod3', 5] + make['prod3', 6] - sell['prod3', 6] - store['prod3', 6] = 0;
con flow_balance_con_prod4_1 : make['prod4', 1] - sell['prod4', 1] - store['prod4', 1] = 0;
con flow_balance_con_prod4_2 : store['prod4', 1] + make['prod4', 2] - sell['prod4', 2] - store['prod4', 2] = 0;
con flow_balance_con_prod4_3 : store['prod4', 2] + make['prod4', 3] - sell['prod4', 3] - store['prod4', 3] = 0;
con flow_balance_con_prod4_4 : store['prod4', 3] + make['prod4', 4] - sell['prod4', 4] - store['prod4', 4] = 0;
con flow_balance_con_prod4_5 : store['prod4', 4] + make['prod4', 5] - sell['prod4', 5] - store['prod4', 5] = 0;
con flow_balance_con_prod4_6 : store['prod4', 5] + make['prod4', 6] - sell['prod4', 6] - store['prod4', 6] = 0;
con flow_balance_con_prod5_1 : make['prod5', 1] - sell['prod5', 1] - store['prod5', 1] = 0;
con flow_balance_con_prod5_2 : store['prod5', 1] + make['prod5', 2] - sell['prod5', 2] - store['prod5', 2] = 0;
con flow_balance_con_prod5_3 : store['prod5', 2] + make['prod5', 3] - sell['prod5', 3] - store['prod5', 3] = 0;
con flow_balance_con_prod5_4 : store['prod5', 3] + make['prod5', 4] - sell['prod5', 4] - store['prod5', 4] = 0;
con flow_balance_con_prod5_5 : store['prod5', 4] + make['prod5', 5] - sell['prod5', 5] - store['prod5', 5] = 0;
con flow_balance_con_prod5_6 : store['prod5', 5] + make['prod5', 6] - sell['prod5', 6] - store['prod5', 6] = 0;
con flow_balance_con_prod6_1 : make['prod6', 1] - sell['prod6', 1] - store['prod6', 1] = 0;
con flow_balance_con_prod6_2 : store['prod6', 1] + make['prod6', 2] - sell['prod6', 2] - store['prod6', 2] = 0;
con flow_balance_con_prod6_3 : store['prod6', 2] + make['prod6', 3] - sell['prod6', 3] - store['prod6', 3] = 0;
con flow_balance_con_prod6_4 : store['prod6', 3] + make['prod6', 4] - sell['prod6', 4] - store['prod6', 4] = 0;
con flow_balance_con_prod6_5 : store['prod6', 4] + make['prod6', 5] - sell['prod6', 5] - store['prod6', 5] = 0;
con flow_balance_con_prod6_6 : store['prod6', 5] + make['prod6', 6] - sell['prod6', 6] - store['prod6', 6] = 0;
con flow_balance_con_prod7_1 : make['prod7', 1] - sell['prod7', 1] - store['prod7', 1] = 0;
con flow_balance_con_prod7_2 : store['prod7', 1] + make['prod7', 2] - sell['prod7', 2] - store['prod7', 2] = 0;
con flow_balance_con_prod7_3 : store['prod7', 2] + make['prod7', 3] - sell['prod7', 3] - store['prod7', 3] = 0;
con flow_balance_con_prod7_4 : store['prod7', 3] + make['prod7', 4] - sell['prod7', 4] - store['prod7', 4] = 0;
con flow_balance_con_prod7_5 : store['prod7', 4] + make['prod7', 5] - sell['prod7', 5] - store['prod7', 5] = 0;
con flow_balance_con_prod7_6 : store['prod7', 5] + make['prod7', 6] - sell['prod7', 6] - store['prod7', 6] = 0;

solve;
quit;